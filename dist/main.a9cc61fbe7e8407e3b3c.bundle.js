webpackJsonp([2],{0:function(n,l,e){n.exports=e("cDNt")},cDNt:function(n,l,e){"use strict";function t(n){return H._26(0,[(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.play()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-play"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "]))],null,null)}function i(n){return H._26(0,[(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.pause()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-pause"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "]))],null,null)}function u(n){return H._26(0,[H._23(402653184,1,{elementView:0}),(n()(),H._8(0,[[1,0],["header",1]],null,35,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),H._25(null,["",""])),(n()(),H._25(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.previous()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-step-backward"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "])),(n()(),H._25(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.previousJump()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-backward"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "])),(n()(),H._25(null,["\n\n  "])),(n()(),H._2(16777216,null,null,1,null,t)),H._6(16384,null,0,C.d,[H.Q,H.N],{ngIf:[0,"ngIf"]},null),(n()(),H._25(null,["\n\n  "])),(n()(),H._2(16777216,null,null,1,null,i)),H._6(16384,null,0,C.d,[H.Q,H.N],{ngIf:[0,"ngIf"]},null),(n()(),H._25(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.stop()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-stop"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "])),(n()(),H._25(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.nextJump()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-forward"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "])),(n()(),H._25(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.next()&&t}return t},null,null)),(n()(),H._25(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-step-forward"]],null,null,null,null,null)),(n()(),H._25(null,["\n  "])),(n()(),H._25(null,["\n\n"])),(n()(),H._25(null,["\n"]))],function(n,l){var e=l.component;n(l,17,0,!e.isPlaying),n(l,20,0,e.isPlaying)},function(n,l){n(l,4,0,l.component.title)})}function o(n){return H._26(0,[(n()(),H._8(0,null,null,1,"jb-header",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==H._20(n,1).onResize(e)&&t}return t},u,I)),H._6(12828672,null,0,j,[w,P],null,null)],function(n,l){n(l,1,0)},null)}function s(n){return J._26(0,[J._23(402653184,1,{elementView:0}),(n()(),J._8(0,[[1,0],["jbItem",1]],null,16,"a",[["class","list-group-item clearfix"],["style","cursor: pointer;"]],[[4,"background-color",null]],null,null,null,null)),(n()(),J._25(null,["\n  "])),(n()(),J._8(0,null,null,7,"div",[["class","pull-left"]],null,null,null,null,null)),(n()(),J._25(null,["\n    "])),(n()(),J._8(0,null,null,1,"h4",[["class","list-group-item-heading"]],null,null,null,null,null)),(n()(),J._25(null,["",""])),(n()(),J._25(null,["\n    "])),(n()(),J._8(0,null,null,1,"p",[["class","list-group-item-text"]],null,null,null,null,null)),(n()(),J._25(null,["",""])),(n()(),J._25(null,["\n  "])),(n()(),J._25(null,["\n  "])),(n()(),J._8(0,null,null,4,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),J._25(null,["\n       "])),(n()(),J._8(0,null,null,1,"span",[["class","img-responsive"],["style","max-height: 50px;"]],null,null,null,null,null)),(n()(),J._25(null,["\n      ",""])),(n()(),J._25(null,["\n  "])),(n()(),J._25(null,["\n"])),(n()(),J._25(null,["\n"]))],null,function(n,l){var e=l.component;n(l,1,0,e.color),n(l,6,0,null==e.song?null:e.song.name),n(l,9,0,null==e.song?null:e.song.description),n(l,15,0,null==e.song?null:e.song.length)})}function r(n){return J._26(0,[(n()(),J._8(0,null,null,1,"jukebox-item",[],null,null,null,s,T)),J._6(114688,null,0,E,[J.F],null,null)],function(n,l){n(l,1,0)},null)}function c(n){return N._26(0,[(n()(),N._8(0,null,null,1,"jukebox-item",[],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.onSelectItem(n.context.index)&&t}return t},s,T)),N._6(114688,null,0,E,[N.F],{song:[0,"song"],index:[1,"index"],color:[2,"color"],scrollIntoView:[3,"scrollIntoView"]},null)],function(n,l){var e=l.component;n(l,1,0,l.context.$implicit,l.context.index,l.context.index==e.selectedIndex?"#9bd5ef":"LightGray",l.context.index==e.selectedIndex)},null)}function a(n){return N._26(0,[(n()(),N._8(0,null,null,5,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),N._25(null,["\n\n    "])),(n()(),N._2(16777216,null,null,1,null,c)),N._6(802816,null,0,R.c,[N.Q,N.N,N.t],{ngForOf:[0,"ngForOf"]},null),(n()(),N._25(null,["\n    "])),(n()(),N._25(null,["\n  "]))],function(n,l){n(l,3,0,l.component.songs)},null)}function h(n){return N._26(0,[N._23(402653184,1,{elementView:0}),(n()(),N._8(0,[[1,0],["jbList",1]],null,6,"div",[["class","row"]],null,null,null,null,null)),N._6(278528,null,0,R.g,[N.u,N.k,N.F],{ngStyle:[0,"ngStyle"]},null),N._21({height:0}),(n()(),N._25(null,["\n  "])),(n()(),N._2(16777216,null,null,1,null,a)),N._6(16384,null,0,R.d,[N.Q,N.N],{ngIf:[0,"ngIf"]},null),(n()(),N._25(null,["\n"])),(n()(),N._25(null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,n(l,3,0,e.viewHeight)),n(l,6,0,null!=e.songs)},null)}function g(n){return N._26(0,[(n()(),N._8(0,null,null,1,"jukebox-list",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==N._20(n,1).onResize(e)&&t}return t},h,D)),N._6(245760,null,0,F,[w,P],null,null)],function(n,l){n(l,1,0)},null)}function p(n){return q._26(0,[(n()(),q._8(0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(n()(),q._25(null,["\n  "])),(n()(),q._8(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),q._25(null,["\n    "])),(n()(),q._8(0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),q._25(null,["\n      "])),(n()(),q._8(0,null,null,1,"jb-header",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==q._20(n,7).onResize(e)&&t}return t},u,I)),q._6(12828672,null,0,j,[w,P],null,null),(n()(),q._25(null,["\n    "])),(n()(),q._25(null,["\n  "])),(n()(),q._25(null,["\n  "])),(n()(),q._8(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),q._25(null,["\n    "])),(n()(),q._8(0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),q._25(null,["\n      "])),(n()(),q._8(0,null,null,1,"jukebox-list",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==q._20(n,16).onResize(e)&&t}return t},h,D)),q._6(245760,null,0,F,[w,P],null,null),(n()(),q._25(null,["\n    "])),(n()(),q._25(null,["\n  "])),(n()(),q._25(null,["\n"])),(n()(),q._25(null,["\n"]))],function(n,l){n(l,7,0),n(l,16,0)},null)}function _(n){return q._26(0,[(n()(),q._8(0,null,null,3,"jb-root",[],null,null,null,p,B)),q._22(4608,null,w,w,[Q.d]),q._22(4608,null,P,P,[]),q._6(114688,null,0,b,[],null,null)],function(n,l){n(l,3,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var d={production:!0},f=function(){function n(){}return n}(),b=function(){function n(){this.title="Jukebox"}return n.prototype.ngOnInit=function(){console.log=function(){}},n}(),y=[""],v=[".glyphicon[_ngcontent-%COMP%]{font-size:24px}.icon-button[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;border:0;border-bottom:15px;background:transparent}h1[_ngcontent-%COMP%]{font-size:24px}"],S=e("rlar"),m=(e.n(S),e("CPp0")),x=e("5v8a"),w=(e.n(x),function(){function n(n){this.http=n,this.title="Demo Songs",this.audio=new Audio,this.isPlaying=!1,this.isPaused=!1,this.isPlayingChanged=new S.Subject,this.selectedSongChanged=new S.Subject,this.newSongsLoaded=new S.Subject,this.titleLoaded=new S.Subject,this.loadSongs(),this.audio.onended=this.onEndedCalled.bind(this)}return n.prototype.getSongs=function(){return console.log("getting songs: "+JSON.stringify(this.songs)),this.songs.slice()},n.prototype.play=function(){null==this.currentSong&&(this.currentSong=this.songs[0]),console.log("play song "+this.currentSong.name),this.isPaused?this.audio.play():(this.createAudio(this.currentSong.audioPath),this.audio.play()),this.isPlaying=!0,this.isPaused=!1,this.isPlayingChanged.next(!0)},n.prototype.pause=function(){null!=this.currentSong&&this.isPlaying&&(console.log("pause playing song: "+this.currentSong.name),this.isPlayingChanged.next(!1),this.audio.pause(),this.isPaused=!0,this.isPlaying=!1)},n.prototype.selectSong=function(n){var l=this.isPlaying;this.stop(),this.currentSong=this.songs[n],this.selectedSongChanged.next(n),console.log("Selected song is now "+this.currentSong.name),l&&this.play()},n.prototype.stop=function(){null!=this.currentSong&&(this.isPlaying||this.isPaused)&&(console.log("stop song "+this.currentSong.name),this.isPlaying&&this.audio.pause(),this.isPlaying=!1,this.isPaused=!1,this.isPlayingChanged.next(!1))},n.prototype.previousJump=function(){if(this.isPlaying){var n=this.audio.currentTime;n-=20,n<0&&(n=0),this.audio.currentTime=n}},n.prototype.previous=function(){var n=this,l=0;null!=this.currentSong&&(l=this.songs.findIndex(function(l){return l.name===n.currentSong.name}),console.log("Found current song, index is "+l),l-=1),l<0&&(l=this.songs.length-1),this.currentSong=this.songs[l],this.selectedSongChanged.next(l);var e=this.isPlaying;this.stop(),e&&this.play()},n.prototype.next=function(){var n=this;console.log("Next called");var l=0;null!=this.currentSong&&(l=this.songs.findIndex(function(l){return l.name===n.currentSong.name})),++l>this.songs.length-1&&(l=0);var e=this.isPlaying;this.stop(),this.currentSong=this.songs[l],this.selectedSongChanged.next(l),e?(console.log("keep playing is true, this.play called"),this.play()):console.log("keepPlaying is false")},n.prototype.nextJump=function(){if(this.isPlaying){var n=this.audio.currentTime;n+=20;if(n>this.audio.duration)return void this.next();this.audio.currentTime=n}},n.prototype.setSongs=function(n){console.log("Setting songs from file: "+n),this.songs=n},n.prototype.setTitle=function(n){console.log("setting title to "+n),this.title=n},n.prototype.loadSongs=function(){var n=this;return new Promise(function(l,e){n.http.get("assets/jukebox.json").map(function(n){return n.json()}).subscribe(function(e){n.setTitle(e.title),n.setSongs(e.songs),n.newSongsLoaded.next(n.songs),n.titleLoaded.next(n.title),l(!0)},function(n){return console.log("Error: "+n)})})},n.prototype.onEndedCalled=function(n){console.log("onEndedCalled"),this.next()},n.prototype.createAudio=function(n){console.log("creating new audio for: "+n),this.audio.src=n},n.ctorParameters=function(){return[{type:m.d}]},n}()),k=e("rlar"),P=(e.n(k),function(){function n(){this.heightChanged=new k.Subject}return n.prototype.setHeightChanged=function(n){this.currentHeight!=n&&(this.currentHeight=n,this.heightChanged.next(this.currentHeight))},n}()),j=function(){function n(n,l){this.jukeboxService=n,this.headerSizingService=l,this.isPlaying=!1}return n.prototype.play=function(){this.jukeboxService.play()},n.prototype.pause=function(){this.jukeboxService.pause()},n.prototype.stop=function(){this.jukeboxService.stop()},n.prototype.previous=function(){this.jukeboxService.previous()},n.prototype.previousJump=function(){this.jukeboxService.previousJump()},n.prototype.nextJump=function(){this.jukeboxService.nextJump()},n.prototype.next=function(){this.jukeboxService.next()},n.prototype.playingStateChanged=function(n){this.isPlaying=n},n.prototype.ngOnInit=function(){var n=this;this.jukeboxServiceSubscription=this.jukeboxService.isPlayingChanged.subscribe(function(l){n.playingStateChanged(l)}),this.jukeboxServiceTitleSubscription=this.jukeboxService.titleLoaded.subscribe(function(l){n.title=l;var e=n.elementView.nativeElement.offsetHeight;console.log("Title set, header height "+e),n.headerSizingService.setHeightChanged(e)});var l=this.elementView.nativeElement.offsetHeight;console.log("Header Height "+l)},n.prototype.onResize=function(n){var l=this.elementView.nativeElement.offsetHeight;console.log("Header Height: "+l),this.headerSizingService.setHeightChanged(l)},n.prototype.ngAfterViewInit=function(){var n=this.elementView.nativeElement.offsetHeight;console.log("Header Height after view init: "+n)},n.prototype.ngAfterViewChecked=function(){var n=this.elementView.nativeElement.offsetHeight;console.log("Header Height after view checked: "+n),this.headerSizingService.setHeightChanged(n)},n.prototype.ngOnDestroy=function(){this.jukeboxServiceSubscription.unsubscribe(),this.jukeboxServiceTitleSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:w},{type:P}]},n}(),H=e("/oeL"),C=e("qbdv"),z=[v],I=H._5({encapsulation:0,styles:z,data:{}}),O=(H._3("jb-header",j,o,{},{},[]),[".row[_ngcontent-%COMP%]{overflow:scroll}"]),V=[".list-group-item-text[_ngcontent-%COMP%]{line-height:1}.h1[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-size:14px}"],L=e("/oeL"),E=function(){function n(n){this.renderer=n}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"scrollIntoView",{set:function(n){n&&this.renderer.invokeElementMethod(this.elementView.nativeElement,"scrollIntoView",[!1])},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:L.F}]},n}(),J=e("/oeL"),M=[V],T=J._5({encapsulation:0,styles:M,data:{}}),F=(J._3("jukebox-item",E,r,{song:"song",index:"index",color:"color",scrollIntoView:"scrollIntoView"},{},[]),function(){function n(n,l){this.jukeboxService=n,this.headerSizingService=l,this.selectedIndex=0,this.viewHeight="100px",this.headerHeight=50}return n.prototype.ngOnInit=function(){var n=this;this.jukeboxServiceSubscription=this.jukeboxService.selectedSongChanged.subscribe(function(l){n.selectedIndex=l}),console.log("Screen height = "+window.innerHeight),setTimeout(function(){n.setViewHeight(window.innerHeight)},0),this.songsChangedSubscription=this.jukeboxService.newSongsLoaded.subscribe(function(l){n.songs=l}),this.headerSizingServiceSubscription=this.headerSizingService.heightChanged.subscribe(function(l){console.log("Resizing from headerSizingSubscriptionService"),n.headerHeight=l,setTimeout(function(){n.setViewHeight(window.innerHeight)},0)})},n.prototype.onResize=function(n){console.log("Offset: "+this.elementView.nativeElement.offsetHeight),console.log("Height: "+n.target.innerHeight),this.setViewHeight(n.target.innerHeight)},n.prototype.onSelectItem=function(n){this.jukeboxService.selectSong(n)},n.prototype.setViewHeight=function(n){this.viewHeight=n-(this.headerHeight+30)+"px",console.log("set view height to "+this.viewHeight)},n.prototype.ngOnDestroy=function(){this.jukeboxServiceSubscription.unsubscribe(),this.songsChangedSubscription.unsubscribe(),this.headerSizingServiceSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:w},{type:P}]},n}()),N=e("/oeL"),R=e("qbdv"),A=[O],D=N._5({encapsulation:0,styles:A,data:{}}),q=(N._3("jukebox-list",F,g,{},{},[]),e("/oeL")),Q=e("CPp0"),Y=[y],B=q._5({encapsulation:0,styles:Y,data:{}}),G=q._3("jb-root",b,_,{},{},[]),U=e("/oeL"),$=e("qbdv"),K=e("fc+i"),W=e("bm2B"),X=e("CPp0"),Z=U._4(f,[b],function(n){return U._18([U._19(512,U.i,U._0,[[8,[G]],[3,U.i],U.x]),U._19(5120,U.v,U._17,[[3,U.v]]),U._19(4608,$.f,$.e,[U.v]),U._19(4608,U.h,U.h,[]),U._19(5120,U.a,U._9,[]),U._19(5120,U.t,U._14,[]),U._19(5120,U.u,U._15,[]),U._19(4608,K.b,K.s,[$.b]),U._19(6144,U.J,null,[K.b]),U._19(4608,K.e,K.f,[]),U._19(5120,K.c,function(n,l,e,t){return[new K.k(n),new K.o(l),new K.n(e,t)]},[$.b,$.b,$.b,K.e]),U._19(4608,K.d,K.d,[K.c,U.z]),U._19(135680,K.m,K.m,[$.b]),U._19(4608,K.l,K.l,[K.d,K.m]),U._19(6144,U.H,null,[K.l]),U._19(6144,K.p,null,[K.m]),U._19(4608,U.O,U.O,[U.z]),U._19(4608,K.g,K.g,[$.b]),U._19(4608,K.i,K.i,[$.b]),U._19(4608,W.c,W.c,[]),U._19(4608,X.c,X.c,[]),U._19(4608,X.g,X.b,[]),U._19(5120,X.i,X.j,[]),U._19(4608,X.h,X.h,[X.c,X.g,X.i]),U._19(4608,X.f,X.a,[]),U._19(5120,X.d,X.k,[X.h,X.f]),U._19(512,$.a,$.a,[]),U._19(1024,U.l,K.q,[]),U._19(1024,U.b,function(n,l){return[K.r(n,l)]},[[2,K.h],[2,U.y]]),U._19(512,U.c,U.c,[[2,U.b]]),U._19(131584,U._7,U._7,[U.z,U._1,U.r,U.l,U.i,U.c]),U._19(2048,U.e,null,[U._7]),U._19(512,U.d,U.d,[U.e]),U._19(512,K.a,K.a,[[3,K.a]]),U._19(512,W.b,W.b,[]),U._19(512,W.a,W.a,[]),U._19(512,X.e,X.e,[]),U._19(512,f,f,[])])}),nn=e("/oeL"),ln=e("fc+i");d.production&&Object(nn.U)(),Object(ln.j)().bootstrapModuleFactory(Z)},gFIY:function(n,l){function e(n){return new Promise(function(l,e){e(new Error("Cannot find module '"+n+"'."))})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);