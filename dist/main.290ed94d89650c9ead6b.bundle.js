webpackJsonp([2],{0:function(n,l,e){n.exports=e("cDNt")},cDNt:function(n,l,e){"use strict";function t(n){return H._25(0,[(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.play()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-play"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "]))],null,null)}function i(n){return H._25(0,[(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.pause()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-pause"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "]))],null,null)}function u(n){return H._25(0,[H._22(402653184,1,{elementView:0}),(n()(),H._8(0,[[1,0],["header",1]],null,35,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),H._24(null,["",""])),(n()(),H._24(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.previous()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-step-backward"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "])),(n()(),H._24(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.previousJump()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-backward"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "])),(n()(),H._24(null,["\n\n  "])),(n()(),H._2(16777216,null,null,1,null,t)),H._6(16384,null,0,C.d,[H.Q,H.N],{ngIf:[0,"ngIf"]},null),(n()(),H._24(null,["\n\n  "])),(n()(),H._2(16777216,null,null,1,null,i)),H._6(16384,null,0,C.d,[H.Q,H.N],{ngIf:[0,"ngIf"]},null),(n()(),H._24(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.stop()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-stop"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "])),(n()(),H._24(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.nextJump()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-forward"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "])),(n()(),H._24(null,["\n\n  "])),(n()(),H._8(0,null,null,3,"button",[["class","icon-button"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.next()&&t}return t},null,null)),(n()(),H._24(null,["\n    "])),(n()(),H._8(0,null,null,0,"span",[["class","glyphicon glyphicon-step-forward"]],null,null,null,null,null)),(n()(),H._24(null,["\n  "])),(n()(),H._24(null,["\n\n\n"])),(n()(),H._24(null,["\n"]))],function(n,l){var e=l.component;n(l,17,0,!e.isPlaying),n(l,20,0,e.isPlaying)},function(n,l){n(l,4,0,l.component.title)})}function o(n){return H._25(0,[(n()(),H._8(0,null,null,1,"jb-header",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==H._20(n,1).onResize(e)&&t}return t},u,I)),H._6(12828672,null,0,P,[w,j],null,null)],function(n,l){n(l,1,0)},null)}function s(n){return E._25(0,[E._22(402653184,1,{elementView:0}),(n()(),E._8(0,[[1,0],["jbItem",1]],null,16,"a",[["class","list-group-item clearfix"],["style","cursor: pointer;"]],[[4,"background-color",null]],null,null,null,null)),(n()(),E._24(null,["\n  "])),(n()(),E._8(0,null,null,7,"div",[["class","pull-left"]],null,null,null,null,null)),(n()(),E._24(null,["\n    "])),(n()(),E._8(0,null,null,1,"h4",[["class","list-group-item-heading"]],null,null,null,null,null)),(n()(),E._24(null,["",""])),(n()(),E._24(null,["\n    "])),(n()(),E._8(0,null,null,1,"p",[["class","list-group-item-text"]],null,null,null,null,null)),(n()(),E._24(null,["",""])),(n()(),E._24(null,["\n  "])),(n()(),E._24(null,["\n  "])),(n()(),E._8(0,null,null,4,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),E._24(null,["\n       "])),(n()(),E._8(0,null,null,1,"span",[["class","img-responsive"],["style","max-height: 50px;"]],null,null,null,null,null)),(n()(),E._24(null,["\n      ",""])),(n()(),E._24(null,["\n  "])),(n()(),E._24(null,["\n"])),(n()(),E._24(null,["\n"]))],null,function(n,l){var e=l.component;n(l,1,0,e.color),n(l,6,0,null==e.song?null:e.song.name),n(l,9,0,null==e.song?null:e.song.description),n(l,15,0,null==e.song?null:e.song.length)})}function c(n){return E._25(0,[(n()(),E._8(0,null,null,1,"jukebox-item",[],null,null,null,s,T)),E._6(114688,null,0,L,[],null,null)],function(n,l){n(l,1,0)},null)}function r(n){return N._25(0,[(n()(),N._8(0,null,null,1,"jukebox-item",[],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.onSelectItem(n.context.index)&&t}return t},s,T)),N._6(114688,null,0,L,[],{song:[0,"song"],index:[1,"index"],color:[2,"color"],scrollIntoView:[3,"scrollIntoView"]},null)],function(n,l){var e=l.component;n(l,1,0,l.context.$implicit,l.context.index,l.context.index==e.selectedIndex?"#9bd5ef":"LightGray",l.context.index==e.selectedIndex)},null)}function a(n){return N._25(0,[(n()(),N._8(0,null,null,5,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),N._24(null,["\n\n    "])),(n()(),N._2(16777216,null,null,1,null,r)),N._6(802816,null,0,F.c,[N.Q,N.N,N.t],{ngForOf:[0,"ngForOf"]},null),(n()(),N._24(null,["\n    "])),(n()(),N._24(null,["\n  "]))],function(n,l){n(l,3,0,l.component.songs)},null)}function g(n){return N._25(0,[N._22(402653184,1,{elementView:0}),(n()(),N._8(0,[[1,0],["jbList",1]],null,6,"div",[["class","row"]],null,null,null,null,null)),N._6(278528,null,0,F.g,[N.u,N.k,N.F],{ngStyle:[0,"ngStyle"]},null),N._21({height:0}),(n()(),N._24(null,["\n  "])),(n()(),N._2(16777216,null,null,1,null,a)),N._6(16384,null,0,F.d,[N.Q,N.N],{ngIf:[0,"ngIf"]},null),(n()(),N._24(null,["\n"])),(n()(),N._24(null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,n(l,3,0,e.viewHeight)),n(l,6,0,null!=e.songs)},null)}function h(n){return N._25(0,[(n()(),N._8(0,null,null,1,"jukebox-list",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==N._20(n,1).onResize(e)&&t}return t},g,A)),N._6(245760,null,0,M,[w,j],null,null)],function(n,l){n(l,1,0)},null)}function p(n){return D._25(0,[(n()(),D._24(null,["\n\n  "])),(n()(),D._8(0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(n()(),D._24(null,["\n    "])),(n()(),D._8(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),D._24(null,["\n      "])),(n()(),D._8(0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),D._24(null,["\n    "])),(n()(),D._8(0,null,null,1,"jb-header",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==D._20(n,8).onResize(e)&&t}return t},u,I)),D._6(12828672,null,0,P,[w,j],null,null),(n()(),D._24(null,["\n        "])),(n()(),D._24(null,["\n      "])),(n()(),D._24(null,["\n    "])),(n()(),D._8(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),D._24(null,["\n      "])),(n()(),D._8(0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),D._24(null,["\n        "])),(n()(),D._8(0,null,null,1,"jukebox-list",[],null,[["window","resize"]],function(n,l,e){var t=!0;if("window:resize"===l){t=!1!==D._20(n,17).onResize(e)&&t}return t},g,A)),D._6(245760,null,0,M,[w,j],null,null),(n()(),D._24(null,["\n      "])),(n()(),D._24(null,["\n    "])),(n()(),D._24(null,["\n  "])),(n()(),D._24(null,["\n"]))],function(n,l){n(l,8,0),n(l,17,0)},null)}function _(n){return D._25(0,[(n()(),D._8(0,null,null,1,"jb-root",[],null,null,null,p,Q)),D._6(114688,null,0,b,[],null,null)],function(n,l){n(l,1,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var d={production:!0},f=function(){function n(){}return n}(),b=function(){function n(){this.title="Jukebox"}return n.prototype.ngOnInit=function(){console.log=function(){}},n}(),y=[""],v=[".glyphicon[_ngcontent-%COMP%]{font-size:24px}.icon-button[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;border:0;background:transparent}"],S=e("rlar"),m=(e.n(S),e("CPp0")),x=e("5v8a"),w=(e.n(x),function(){function n(n){this.http=n,this.title="Demo Songs",this.audio=new Audio,this.isPlaying=!1,this.isPaused=!1,this.isPlayingChanged=new S.Subject,this.selectedSongChanged=new S.Subject,this.newSongsLoaded=new S.Subject,this.titleLoaded=new S.Subject,this.loadSongs(),this.audio.onended=this.onEndedCalled.bind(this)}return n.prototype.getSongs=function(){return console.log("getting songs: "+JSON.stringify(this.songs)),this.songs.slice()},n.prototype.play=function(){null==this.currentSong&&(this.currentSong=this.songs[0]),console.log("play song "+this.currentSong.name),this.isPaused?this.audio.play():(this.createAudio(this.currentSong.audioPath),this.audio.play()),this.isPlaying=!0,this.isPaused=!1,this.isPlayingChanged.next(!0)},n.prototype.pause=function(){null!=this.currentSong&&this.isPlaying&&(console.log("pause playing song: "+this.currentSong.name),this.isPlayingChanged.next(!1),this.audio.pause(),this.isPaused=!0,this.isPlaying=!1)},n.prototype.selectSong=function(n){var l=this.isPlaying;this.stop(),this.currentSong=this.songs[n],this.selectedSongChanged.next(n),console.log("Selected song is now "+this.currentSong.name),l&&this.play()},n.prototype.stop=function(){null!=this.currentSong&&(this.isPlaying||this.isPaused)&&(console.log("stop song "+this.currentSong.name),this.isPlaying&&this.audio.pause(),this.isPlaying=!1,this.isPaused=!1,this.isPlayingChanged.next(!1))},n.prototype.previousJump=function(){if(this.isPlaying){var n=this.audio.currentTime;n-=20,n<0&&(n=0),this.audio.currentTime=n}},n.prototype.previous=function(){var n=this,l=0;null!=this.currentSong&&(l=this.songs.findIndex(function(l){return l.name===n.currentSong.name}),console.log("Found current song, index is "+l),l-=1),l<0&&(l=this.songs.length-1),this.currentSong=this.songs[l],this.selectedSongChanged.next(l);var e=this.isPlaying;this.stop(),e&&this.play()},n.prototype.next=function(){var n=this;console.log("Next called");var l=0;null!=this.currentSong&&(l=this.songs.findIndex(function(l){return l.name===n.currentSong.name})),++l>this.songs.length-1&&(l=0);var e=this.isPlaying;this.stop(),this.currentSong=this.songs[l],this.selectedSongChanged.next(l),e?(console.log("keep playing is true, this.play called"),this.play()):console.log("keepPlaying is false")},n.prototype.nextJump=function(){if(this.isPlaying){var n=this.audio.currentTime;n+=20;if(n>this.audio.duration)return void this.next();this.audio.currentTime=n}},n.prototype.setSongs=function(n){console.log("Setting songs from file: "+n),this.songs=n},n.prototype.setTitle=function(n){console.log("setting title to "+n),this.title=n},n.prototype.loadSongs=function(){var n=this;return new Promise(function(l,e){n.http.get("assets/jukebox.json").map(function(n){return n.json()}).subscribe(function(e){n.setTitle(e.title),n.setSongs(e.songs),n.newSongsLoaded.next(n.songs),n.titleLoaded.next(n.title),l(!0)},function(n){return console.log("Error: "+n)})})},n.prototype.onEndedCalled=function(n){console.log("onEndedCalled"),this.next()},n.prototype.createAudio=function(n){console.log("creating new audio for: "+n),this.audio.src=n},n.ctorParameters=function(){return[{type:m.d}]},n}()),k=e("rlar"),j=(e.n(k),function(){function n(){this.heightChanged=new k.Subject}return n.prototype.setHeightChanged=function(n){this.currentHeight!=n&&(this.currentHeight=n,this.heightChanged.next(this.currentHeight))},n}()),P=function(){function n(n,l){this.jukeboxService=n,this.headerSizingService=l,this.isPlaying=!1}return n.prototype.play=function(){this.jukeboxService.play()},n.prototype.pause=function(){this.jukeboxService.pause()},n.prototype.stop=function(){this.jukeboxService.stop()},n.prototype.previous=function(){this.jukeboxService.previous()},n.prototype.previousJump=function(){this.jukeboxService.previousJump()},n.prototype.nextJump=function(){this.jukeboxService.nextJump()},n.prototype.next=function(){this.jukeboxService.next()},n.prototype.playingStateChanged=function(n){this.isPlaying=n},n.prototype.ngOnInit=function(){var n=this;this.jukeboxServiceSubscription=this.jukeboxService.isPlayingChanged.subscribe(function(l){n.playingStateChanged(l)}),this.jukeboxServiceTitleSubscription=this.jukeboxService.titleLoaded.subscribe(function(l){n.title=l;var e=n.elementView.nativeElement.offsetHeight;console.log("Title set, header height "+e),n.headerSizingService.setHeightChanged(e)});var l=this.elementView.nativeElement.offsetHeight;console.log("Header Height "+l)},n.prototype.onResize=function(n){var l=this.elementView.nativeElement.offsetHeight;console.log("Header Height: "+l),this.headerSizingService.setHeightChanged(l)},n.prototype.ngAfterViewInit=function(){var n=this.elementView.nativeElement.offsetHeight;console.log("Header Height after view init: "+n)},n.prototype.ngAfterViewChecked=function(){var n=this.elementView.nativeElement.offsetHeight;console.log("Header Height after view checked: "+n),this.headerSizingService.setHeightChanged(n)},n.prototype.ngOnDestroy=function(){this.jukeboxServiceSubscription.unsubscribe(),this.jukeboxServiceTitleSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:w},{type:j}]},n}(),H=e("/oeL"),C=e("qbdv"),z=[v],I=H._5({encapsulation:0,styles:z,data:{}}),O=(H._3("jb-header",P,o,{},{},[]),[".row[_ngcontent-%COMP%]{overflow:scroll}"]),V=[".list-group-item-text[_ngcontent-%COMP%]{line-height:1}.h1[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-size:14px}"],L=function(){function n(){}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"scrollIntoView",{set:function(n){n&&this.elementView.nativeElement.scrollIntoView(!1)},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[]},n}(),E=e("/oeL"),J=[V],T=E._5({encapsulation:0,styles:J,data:{}}),M=(E._3("jukebox-item",L,c,{song:"song",index:"index",color:"color",scrollIntoView:"scrollIntoView"},{},[]),function(){function n(n,l){this.jukeboxService=n,this.headerSizingService=l,this.selectedIndex=0,this.viewHeight="100px",this.headerHeight=50}return n.prototype.ngOnInit=function(){var n=this;this.jukeboxServiceSubscription=this.jukeboxService.selectedSongChanged.subscribe(function(l){n.selectedIndex=l}),console.log("Screen height = "+window.innerHeight),setTimeout(function(){n.setViewHeight(window.innerHeight)},0),this.songsChangedSubscription=this.jukeboxService.newSongsLoaded.subscribe(function(l){n.songs=l}),this.headerSizingServiceSubscription=this.headerSizingService.heightChanged.subscribe(function(l){console.log("Resizing from headerSizingSubscriptionService"),n.headerHeight=l,setTimeout(function(){n.setViewHeight(window.innerHeight)},0)})},n.prototype.onResize=function(n){console.log("Offset: "+this.elementView.nativeElement.offsetHeight),console.log("Height: "+n.target.innerHeight),this.setViewHeight(n.target.innerHeight)},n.prototype.onSelectItem=function(n){this.jukeboxService.selectSong(n)},n.prototype.setViewHeight=function(n){this.viewHeight=n-(this.headerHeight+30)+"px",console.log("set view height to "+this.viewHeight)},n.prototype.ngOnDestroy=function(){this.jukeboxServiceSubscription.unsubscribe(),this.songsChangedSubscription.unsubscribe(),this.headerSizingServiceSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:w},{type:j}]},n}()),N=e("/oeL"),F=e("qbdv"),R=[O],A=N._5({encapsulation:0,styles:R,data:{}}),D=(N._3("jukebox-list",M,h,{},{},[]),e("/oeL")),q=[y],Q=D._5({encapsulation:0,styles:q,data:{}}),Y=D._3("jb-root",b,_,{},{},[]),B=e("/oeL"),G=e("qbdv"),U=e("fc+i"),$=e("bm2B"),K=e("CPp0"),W=B._4(f,[b],function(n){return B._18([B._19(512,B.i,B._0,[[8,[Y]],[3,B.i],B.x]),B._19(5120,B.v,B._17,[[3,B.v]]),B._19(4608,G.f,G.e,[B.v]),B._19(4608,B.h,B.h,[]),B._19(5120,B.a,B._9,[]),B._19(5120,B.t,B._14,[]),B._19(5120,B.u,B._15,[]),B._19(4608,U.b,U.s,[G.b]),B._19(6144,B.J,null,[U.b]),B._19(4608,U.e,U.f,[]),B._19(5120,U.c,function(n,l,e,t){return[new U.k(n),new U.o(l),new U.n(e,t)]},[G.b,G.b,G.b,U.e]),B._19(4608,U.d,U.d,[U.c,B.z]),B._19(135680,U.m,U.m,[G.b]),B._19(4608,U.l,U.l,[U.d,U.m]),B._19(6144,B.H,null,[U.l]),B._19(6144,U.p,null,[U.m]),B._19(4608,B.O,B.O,[B.z]),B._19(4608,U.g,U.g,[G.b]),B._19(4608,U.i,U.i,[G.b]),B._19(4608,$.c,$.c,[]),B._19(4608,K.c,K.c,[]),B._19(4608,K.g,K.b,[]),B._19(5120,K.i,K.j,[]),B._19(4608,K.h,K.h,[K.c,K.g,K.i]),B._19(4608,K.f,K.a,[]),B._19(5120,K.d,K.k,[K.h,K.f]),B._19(4608,w,w,[K.d]),B._19(4608,j,j,[]),B._19(512,G.a,G.a,[]),B._19(1024,B.l,U.q,[]),B._19(1024,B.b,function(n,l){return[U.r(n,l)]},[[2,U.h],[2,B.y]]),B._19(512,B.c,B.c,[[2,B.b]]),B._19(131584,B._7,B._7,[B.z,B._1,B.r,B.l,B.i,B.c]),B._19(2048,B.e,null,[B._7]),B._19(512,B.d,B.d,[B.e]),B._19(512,U.a,U.a,[[3,U.a]]),B._19(512,$.b,$.b,[]),B._19(512,$.a,$.a,[]),B._19(512,K.e,K.e,[]),B._19(512,f,f,[])])}),X=e("/oeL"),Z=e("fc+i");d.production&&Object(X.U)(),Object(Z.j)().bootstrapModuleFactory(W)},gFIY:function(n,l){function e(n){return new Promise(function(l,e){e(new Error("Cannot find module '"+n+"'."))})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);